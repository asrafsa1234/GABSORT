<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EcoSort AI</title>
    <script src="https://cdn.tailwindcss.com" onload="try{tailwind.config={darkMode:'class'}}catch(e){}"></script>
    <script>
      // Configure Tailwind CSS to use the 'class' strategy for dark mode.
      // This runs after Tailwind CDN loads via onload event
      // Fallback: Try to configure after a delay if onload didn't work
      setTimeout(function() {
        try {
          if (typeof tailwind !== 'undefined' && tailwind.config) {
            tailwind.config.darkMode = 'class';
          }
        } catch(e) {
          // Silently fail - dark mode will still work via class attributes
        }
      }, 500);
    </script>
    <script>
      // Diagnostic logging
      console.log('HTML loaded, root element:', document.getElementById('root'));
      
      // Track script loading errors
      window.addEventListener('error', function(e) {
        console.error('Global error:', e.message, 'at', e.filename, 'line', e.lineno);
        var root = document.getElementById('root');
        if (root && root.innerHTML === '') {
          root.innerHTML = '<div style="display: flex; align-items: center; justify-content: center; height: 100vh; flex-direction: column; padding: 20px; color: white; font-family: system-ui; background: #1f2937;"><h1 style="font-size: 24px; margin-bottom: 10px;">Error Loading App</h1><p style="color: #9ca3af;">Check console for details</p><p style="font-size: 12px; margin-top: 20px; color: #6b7280;">' + e.message + '</p></div>';
        }
      }, true);
      
      // Fallback: Show message if React doesn't load after 3 seconds
      setTimeout(function() {
        var root = document.getElementById('root');
        if (root && root.innerHTML === '') {
          console.warn('React did not load after 3 seconds');
          root.innerHTML = '<div style="display: flex; align-items: center; justify-content: center; height: 100vh; flex-direction: column; padding: 20px; color: white; font-family: system-ui; background: #1f2937;"><h1 style="font-size: 24px; margin-bottom: 10px;">Loading...</h1><p style="color: #9ca3af;">If this persists, the JavaScript bundle may not be loading.</p><p style="font-size: 12px; margin-top: 20px; color: #6b7280;">Check Network tab for failed requests.</p></div>';
        }
      }, 3000);
    </script>
  </head>
  <body class="bg-gray-100 dark:bg-gray-900">
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>